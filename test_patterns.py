import re

test_phrases = [
    "в ближайшую среду на 16.00",
    "ближайшая среда в 15:30",
    "в среду в 14:00",
    "запишите меня на стрижку в ближайшую среду на 16.00"
]

# Паттерны из handlers.py
relative_day_patterns = {
    # Вариации "ближайший"
    r'в ближайшую (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'ближайший',
    r'в ближайший (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'ближайший',
    r'ближайшая (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'ближайший',
    r'ближайший (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'ближайший',
    r'на ближайшую (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'ближайший',
    r'на ближайший (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'ближайший',
    
    # Вариации "следующий"
    r'в следующую (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'следующий',
    r'в следующий (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'следующий',
    r'следующая (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'следующий',
    r'следующий (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'следующий',
    r'на следующую (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'следующий',
    r'на следующий (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'следующий',
    
    # Простые варианты
    r'в (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'простой',
    r'на (понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'простой',
    r'(понедельник|вторник|среда|четверг|пятница|суббота|воскресенье)': 'простой'
}

print("Тестируем паттерны регулярных выражений:")
print("=" * 60)

for phrase in test_phrases:
    print(f"\nФраза: '{phrase}'")
    found = False
    
    for pattern, prefix in relative_day_patterns.items():
        match = re.search(pattern, phrase)
        if match:
            print(f"  ✓ СОВПАДЕНИЕ: {pattern}")
            print(f"    Группа: {match.group(1)}")
            print(f"    Тип: {prefix}")
            found = True
            break
    
    if not found:
        print(f"  ✗ НЕТ СОВПАДЕНИЙ")
